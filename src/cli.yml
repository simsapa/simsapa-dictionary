name: "Simsapa Dictionary Tool"
version: "0.2.0-alpha.1"
author: "https://simsapa.github.io/"
about: "Generating dictionaries in various formats"

args:
  - show_logs:
      help: "Print log messages in the terminal."
      long: show_logs
      required: false
      takes_value: false

subcommands:

  - markdown_to_ebook:
      about: "Process a Markdown file and generate an EPUB or MOBI dictionary."

      args:
        - output_format:
            help: "Either EPUB or MOBI."
            long: output_format
            value_name: FORMAT
            required: true
            takes_value: true
            default_value: "EPUB"
            possible_values: [ "EPUB", "Epub", "epub", "MOBI", "Mobi", "mobi" ]

        - source_paths_list:
            help: "A file with a list of Markdown file paths, one per line. Either this or 'source_path' must be used."
            long: source_paths_list
            value_name: PATH
            required: false
            takes_value: true

        - source_path:
            help: "A single Markdown file to read dictionary entries from. Either this or 'source_paths_list' must be used."
            long: source_path
            value_name: PATH
            required: false
            takes_value: true

        - title:
            help: "Use this title for the ebook, instead of the one defined in the Markdown file."
            long: title
            value_name: TITLE
            required: false
            takes_value: true

        - dict_label:
            help: "Use this dict_label property, instead of the one defined in the Markdown file."
            long: dict_label
            value_name: LABEL
            required: false
            takes_value: true

        - output_path:
            help: "The EPUB or MOBI file to write. Defaults to the same file name and folder as the first Markdown source."
            long: output_path
            value_name: PATH
            required: false
            takes_value: true

        - mobi_compression:
            help: "Compression level, 0-2, as used by KindleGen. 0: no compression, 1: standard DOC compression, 2: Kindle huffdic compression."
            long: mobi_compression
            value_name: INT
            required: false
            takes_value: true
            default_value: "0"
            possible_values: [ "0", "1", "2" ]

        - kindlegen_path:
            help: "The KindleGen tool must be available either (a) in the current folder with this tool, (b) in the system PATH, (c) declared with this option."
            long: kindlegen_path
            value_name: PATH
            required: false
            takes_value: true

        - dont_run_kindlegen:
            help: "Turns off running KindleGen, and no MOBI file will be generated. Useful for debugging."
            long: dont_run_kindlegen
            required: false
            takes_value: false

        - dont_remove_generated_files:
            help: "Turns off the removal of the generated OPF, HTML, etc. files used to create the MOBI. Useful for debugging."
            long: dont_remove_generated_files
            required: false
            takes_value: false

        - zip_with_lib:
            help: "Use the embedded zip library to create the Epub."
            long: zip_with_lib
            required: false
            takes_value: false

        - zip_with_cli:
            help: "Use the cli zip tool to create the Epub."
            long: zip_with_cli
            required: false
            takes_value: false

  - xlsx_to_ebook:
      about: "Process a XLSX (MS Excel Spreadsheet) file and generate an EPUB or MOBI dictionary."

      args:
        - output_format:
            help: "Either EPUB or MOBI."
            long: output_format
            value_name: FORMAT
            required: true
            takes_value: true
            default_value: "EPUB"
            possible_values: [ "EPUB", "Epub", "epub", "MOBI", "Mobi", "mobi" ]

        - source_paths_list:
            help: "A file with a list of XLSX file paths, one per line. Either this or 'source_path' must be used."
            long: source_paths_list
            value_name: PATH
            required: false
            takes_value: true

        - source_path:
            help: "A single XLSX file to read dictionary entries from. Either this or 'source_paths_list' must be used."
            long: source_path
            value_name: PATH
            required: false
            takes_value: true

        - title:
            help: "Use this title for the ebook, instead of the one defined in the XLSX file."
            long: title
            value_name: TITLE
            required: false
            takes_value: true

        - dict_label:
            help: "Use this dict_label property, instead of the one defined in the XLSX file."
            long: dict_label
            value_name: LABEL
            required: false
            takes_value: true

        - output_path:
            help: "The EPUB or MOBI file to write. Defaults to the same file name and folder as the first XLSX source."
            long: output_path
            value_name: PATH
            required: false
            takes_value: true

        - mobi_compression:
            help: "Compression level, 0-2, as used by KindleGen. 0: no compression, 1: standard DOC compression, 2: Kindle huffdic compression."
            long: mobi_compression
            value_name: INT
            required: false
            takes_value: true
            default_value: "0"
            possible_values: [ "0", "1", "2" ]

        - kindlegen_path:
            help: "The KindleGen tool must be available either (a) in the current folder with this tool, (b) in the system PATH, (c) declared with this option."
            long: kindlegen_path
            value_name: PATH
            required: false
            takes_value: true

        - dont_run_kindlegen:
            help: "Turns off running KindleGen, and no MOBI file will be generated. Useful for debugging."
            long: dont_run_kindlegen
            required: false
            takes_value: false

        - dont_remove_generated_files:
            help: "Turns off the removal of the generated OPF, HTML, etc. files used to create the MOBI. Useful for debugging."
            long: dont_remove_generated_files
            required: false
            takes_value: false

        - zip_with_lib:
            help: "Use the embedded zip library to create the Epub."
            long: zip_with_lib
            required: false
            takes_value: false

        - zip_with_cli:
            help: "Use the cli zip tool to create the Epub."
            long: zip_with_cli
            required: false
            takes_value: false

  - markdown_to_babylon_gls:
      about: "Process a Markdown file and generate a Babylon source dictionary (GLS)."

      args:
        - source_paths_list:
            help: "A file with a list of Markdown file paths, one per line. Either this or 'source_path' must be used."
            long: source_paths_list
            value_name: PATH
            required: false
            takes_value: true

        - source_path:
            help: "A single Markdown file to read dictionary entries from. Either this or 'source_paths_list' must be used."
            long: source_path
            value_name: PATH
            required: false
            takes_value: true

        - title:
            help: "Use this title for the ebook, instead of the one defined in the Markdown file."
            long: title
            value_name: TITLE
            required: false
            takes_value: true

        - dict_label:
            help: "Use this dict_label property, instead of the one defined in the Markdown file."
            long: dict_label
            value_name: LABEL
            required: false
            takes_value: true

        - output_path:
            help: "The GLS file to write. Defaults to the same file name and folder as the first Markdown source."
            long: output_path
            value_name: PATH
            required: false
            takes_value: true

  - xlsx_to_babylon_gls:
      about: "Process an XLSX file and generate a Babylon source dictionary (GLS)."

      args:
        - source_paths_list:
            help: "A file with a list of XLSX file paths, one per line. Either this or 'source_path' must be used."
            long: source_paths_list
            value_name: PATH
            required: false
            takes_value: true

        - source_path:
            help: "A single XLSX file to read dictionary entries from. Either this or 'source_paths_list' must be used."
            long: source_path
            value_name: PATH
            required: false
            takes_value: true

        - title:
            help: "Use this title for the dictionary, instead of the one defined in the XLSX file."
            long: title
            value_name: TITLE
            required: false
            takes_value: true

        - dict_label:
            help: "Use this dict_label property, instead of the one defined in the XLSX file."
            long: dict_label
            value_name: LABEL
            required: false
            takes_value: true

        - output_path:
            help: "The GLS file to write. Defaults to the same file name and folder as the first XLSX source."
            long: output_path
            value_name: PATH
            required: false
            takes_value: true

  - markdown_to_stardict_xml:
      about: "Process a Markdown file and generate a Stardict textual dictionary file (XML)."

      args:
        - source_paths_list:
            help: "A file with a list of Markdown file paths, one per line. Either this or 'source_path' must be used."
            long: source_paths_list
            value_name: PATH
            required: false
            takes_value: true

        - source_path:
            help: "A single Markdown file to read dictionary entries from. Either this or 'source_paths_list' must be used."
            long: source_path
            value_name: PATH
            required: false
            takes_value: true

        - title:
            help: "Use this title for the ebook, instead of the one defined in the Markdown file."
            long: title
            value_name: TITLE
            required: false
            takes_value: true

        - dict_label:
            help: "Use this dict_label property, instead of the one defined in the Markdown file."
            long: dict_label
            value_name: LABEL
            required: false
            takes_value: true

        - output_path:
            help: "The XML file to write. Defaults to the same file name and folder as the first Markdown source."
            long: output_path
            value_name: PATH
            required: false
            takes_value: true

  - xlsx_to_stardict_xml:
      about: "Process an XLSX file and generate a Stardict textual dictionary file (XML)."

      args:
        - source_paths_list:
            help: "A file with a list of XLSX file paths, one per line. Either this or 'source_path' must be used."
            long: source_paths_list
            value_name: PATH
            required: false
            takes_value: true

        - source_path:
            help: "A single XLSX file to read dictionary entries from. Either this or 'source_paths_list' must be used."
            long: source_path
            value_name: PATH
            required: false
            takes_value: true

        - title:
            help: "Use this title for the dictionary, instead of the one defined in the XLSX file."
            long: title
            value_name: TITLE
            required: false
            takes_value: true

        - dict_label:
            help: "Use this dict_label property, instead of the one defined in the XLSX file."
            long: dict_label
            value_name: LABEL
            required: false
            takes_value: true

        - output_path:
            help: "The XML file to write. Defaults to the same file name and folder as the first XLSX source."
            long: output_path
            value_name: PATH
            required: false
            takes_value: true

  - markdown_to_json:
      about: "Read a Markdown file and serialized it to JSON."

      args:
        - source_path:
            help: "Path to the Markdown file."
            long: source_path
            value_name: PATH
            required: true
            takes_value: true

        - output_path:
            help: "The entries JSON file to write. Metadata JSON will be written to the same folder with '_metadata' postfix."
            long: output_path
            value_name: PATH
            required: true
            takes_value: true

  - suttacentral_json_to_markdown:
      about: "Process a dictionary JSON file from SuttaCentral and write a Markdown file with TOML headers."

      args:
        - json_path:
            help: "The JSON file to read."
            long: json_path
            value_name: PATH
            required: true
            takes_value: true

        - output_path:
            help: "The Markdown file to write."
            long: output_path
            value_name: PATH
            required: true
            takes_value: true

        - reuse_metadata:
            help: "If the output file already exists, read and use its metadata attributes."
            long: reuse_metadata
            required: false
            takes_value: false

        - title:
            help: "Use this title for the dictionary."
            long: title
            value_name: TITLE
            required: false
            takes_value: true

        - dict_label:
            help: "The short id label (such as NCPED or PED) to use for this dictionary source."
            long: dict_label
            value_name: LABEL
            required: true
            takes_value: true

        - dont_process:
            help: "Don't process the definition into attributes."
            long: dont_process
            required: false
            takes_value: false

        - dont_remove_see_also:
            help: "Don't remove the '(See also...)' type text when processing."
            long: dont_remove_see_also
            required: false
            takes_value: false

  - nyanatiloka_to_markdown:
      about: "Process Ven. Nyanatiloka's Buddhist Dictionary and write a Markdown file with TOML headers."

      args:
        - nyanatiloka_root:
            help: "The root folder of Nyanatiloka's Buddhist Dictionary."
            long: nyanatiloka_root
            value_name: PATH
            required: true
            takes_value: true

        - output_path:
            help: "The Markdown file to write."
            long: output_path
            value_name: PATH
            required: true
            takes_value: true

        - reuse_metadata:
            help: "If the output file already exists, read and use its metadata attributes."
            long: reuse_metadata
            required: false
            takes_value: false

        - title:
            help: "Use this title for the dictionary."
            long: title
            value_name: TITLE
            required: false
            takes_value: true

        - dict_label:
            help: "The short id label (such as 'Nyana') to use for this dictionary source."
            long: dict_label
            value_name: LABEL
            required: true
            takes_value: true

