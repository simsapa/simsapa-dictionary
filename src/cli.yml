name: "Simsapa Dictionary Tool"
version: "0.1.0"
author: "https://simsapa.github.io/"
about: "Generating Pali language dictionaries in MOBI and EPUB format."

args:
  - show_logs:
      help: "Print log messages in the terminal."
      long: show_logs
      required: false
      takes_value: false

subcommands:

  - markdown_to_mobi:
      about: "Process a Markdown file and generate a MOBI dictionary with Kindlegen."

      args:
        - markdown_paths_list:
            help: "A file with a list of Markdown file paths, one per line. Either this or 'markdown_path' must be used."
            long: markdown_paths_list
            value_name: PATH
            required: false
            takes_value: true

        - markdown_path:
            help: "A single Markdown file to read dictionary entries from. Either this or 'markdown_paths_list' must be used."
            long: markdown_path
            value_name: PATH
            required: false
            takes_value: true

        - mobi_path:
            help: "The MOBI file to write."
            long: mobi_path
            value_name: PATH
            required: true
            takes_value: true

        - mobi_compression:
            help: "Compression level, 0-2, as used by KindleGen. 0: no compression, 1: standard DOC compression, 2: Kindle huffdic compression."
            long: mobi_compression
            value_name: INT
            required: false
            takes_value: true
            default_value: "2"
            possible_values: [ "0", "1", "2" ]

        - kindlegen_path:
            help: "The KindleGen tool must be available either (a) in the current folder with this tool, (b) in the system PATH, (c) declared with this option."
            long: kindlegen_path
            value_name: PATH
            required: false
            takes_value: true

        - dont_run_kindlegen:
            help: "Turns off running KindleGen, and no MOBI file will be generated. Useful for debugging."
            long: dont_run_kindlegen
            required: false
            takes_value: false

        - dont_remove_generated_files:
            help: "Turns off the removal of the generated OPF, HTML, etc. files used to create the MOBI. Useful for debugging."
            long: dont_remove_generated_files
            required: false
            takes_value: false

  - suttacentral_json_to_markdown:
      about: "Process a dictionary JSON file from SuttaCentral and write a Markdown file with TOML headers."

      args:
        - json_path:
            help: "The JSON file to read."
            long: json_path
            value_name: PATH
            required: true
            takes_value: true

        - markdown_path:
            help: "The Markdown file to write."
            long: markdown_path
            value_name: PATH
            required: true
            takes_value: true

        - dict_label:
            help: "The short id label (such as NCPED or PED) to use for this dictionary source."
            long: dict_label
            value_name: LABEL
            required: true
            takes_value: true

  - nyanatiloka_to_markdown:
      about: "Process Ven. Nyanatiloka's Buddhist Dictionary and write a Markdown file with TOML headers."

      args:
        - nyanatiloka_root:
            help: "The root folder of Nyanatiloka's Buddhist Dictionary."
            long: nyanatiloka_root
            value_name: PATH
            required: true
            takes_value: true

        - markdown_path:
            help: "The Markdown file to write."
            long: markdown_path
            value_name: PATH
            required: true
            takes_value: true

        - dict_label:
            help: "The short id label (such as 'Nyana') to use for this dictionary source."
            long: dict_label
            value_name: LABEL
            required: true
            takes_value: true

